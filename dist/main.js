!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){!function(){var t=window.localStorage,e="wins",i={};t&&(i=JSON.parse(t.getItem(e))||{});var n=document.getElementById("canvas"),o=n.getContext("2d");o.font="30px Arial";var r,a=1,l=parseInt(n.getAttribute("width"),10),s=parseInt(n.getAttribute("height"),10),u=20,c=3,f=0,p={winner:null,gameOverStart:null,statScreenStart:null},h=(r=0,function(){return++r});function d(t,e){return Math.random()*(e-t)+t}function m(t){return{alive:!0,color:t,direction:{x:d(.1,.5),y:d(.1,.5)},id:h(),position:{x:d(u,l-u),y:d(u,s-u)},size:{width:u,height:u},team:t,hitPoints:10,heals:3,strength:Math.ceil(d(1,3))}}function y(){for(var t=[],e=0;e<c;e++)t=t.concat([m("red"),m("blue"),m("green"),m("yellow"),m("orange"),m("teal"),m("brown")]);return{frame:{collisions:[]},objects:t,input:{}}}var w=y();function x(){o.fillStyle="black",o.fillRect(0,0,l,s)}function g(t){if(x(),o.font="30px Arial",f=t,i&&t-p.statScreenStart<3e3){o.fillStyle="white";var e=50;for(var n in o.fillText("Wins:",10,e),i)e+=30,o.fillStyle=n,o.fillText(n+" : "+i[n],10,e);requestAnimationFrame(g)}else requestAnimationFrame(v)}function v(t){x(),f=t,w=new y,requestAnimationFrame(O)}function b(t,e){t.hitPoints-=e,t.hitPoints<=0&&(t.alive=!1)}function S(t,e){t.hitPoints<10&&(t.hitPoints+=e.heals,e.heals--,t.hitPoints>10&&(t.hitPoints=10),e.heals<0&&(e.heals=0))}function A(t){x(),f=t,o.font="30px Arial",o.fillStyle="white",o.fillText("Game Over, winner: "+p.winner,10,50),t-p.gameOverStart>2e3?(p.statScreenStart=t,requestAnimationFrame(g)):requestAnimationFrame(A)}function O(n){x(),w.frame.collisions=[],w.objects.forEach((function(t){!function(t){t.alive&&(o.fillStyle="white",o.font="10px Arial",o.fillText(t.hitPoints+"/"+t.strength,t.position.x,t.position.y-10)),o.fillStyle=t.color,o.fillRect(t.position.x,t.position.y,t.size.width,t.size.height)}(t)})),a=w.input.ArrowUp?2:w.input.ArrowDown?.5:1;var r=(n-f)*a;w.objects.forEach((function(t){!function(t,e){null!=t.direction&&t.alive&&(t.position.x+=e*t.direction.x,t.position.y+=e*t.direction.y,(t.position.x+t.size.width>l||t.position.x<0)&&(t.direction.x*=-1),(t.position.y+t.size.height>s||t.position.y<0)&&(t.direction.y*=-1),t.position.y<0&&(t.position.y=0),t.position.y>s-t.size.height&&(t.position.y=s-t.size.height),t.position.x<0&&(t.position.x=0),t.position.x>l-t.size.width&&(t.position.x=l-t.size.width),w.objects.forEach((function(e){e.id!==t.id&&(e.alive&&function(t,e){return t.position.x<e.position.x+e.size.width&&t.position.x+t.size.width>e.position.x&&t.position.y<e.position.y+e.size.height&&t.size.height+t.position.y>e.position.y}(t,e)?t.team!==e.team?(Math.random()<.5?b(t,e.strength):b(e,t.strength),t.color="white",e.color="white",w.frame.collisions.push([t,e])):(S(t,e),S(e,t)):(t.color=t.team,e.color=e.team))})))}(t,r)})),f=n;var u,c=w.objects.filter((function(t){return t.alive})).reduce((function(t,e){return-1===t.indexOf(e.team)&&t.push(e.team),t}),[]);1!==c.length?requestAnimationFrame(O):(u=c[0],p.winner=u,i[p.winner]?i[p.winner]++:i[p.winner]=1,t&&t.setItem(e,JSON.stringify(i)),p.gameOverStart=n,requestAnimationFrame(A))}requestAnimationFrame((function(t){x(),f=t,document.onkeydown=function(t){t.preventDefault(),w.input[t.code]||(w.input[t.code]={key:t,pressed:Date.now()})},document.onkeyup=function(t){t.preventDefault(),w.input[t.code]=null},requestAnimationFrame(O)}))}()}]);